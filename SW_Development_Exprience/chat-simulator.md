## chat-simulator에서 고쳐야 했던 부분

1. chat data가 들어올 때 2명이 connect 가 이미 되어있다고 가정하고 메세지가 들어왔다. 그래서 users 객체에 new User 해서 미리 넣어두고 chat start를 돌렸고, 클라이언트가 접속되었다는 메세지가 뜨면 connectClient를 통해서 User를 새로 생성하고 users객체에 넣어 주었었는데 이러면 보기에도 안좋고, 중복이 있다. 그래서 startChat 할 때 직접 User 객체를 생성하는 것이 아닌 connectClient를 통해 생성되게 했더니 문제 없었고, 보기에도 깔끔했다.

2. mainUser를 따로 두었었는데 그냥 users에 첫번째에 있는 user를 가져와서 처리하였다.
3. 나는 prototype을 통해 전체의 로직 자체를 하나의 객체로 만들어 사용했는데 그렇게 하는 것 보다는 지금은 chat-simulator 객체를 만들어서 계속 재 사용 한다기 보다는 그 로직을 한번 굴리면 되기 때문에 **굳이 지금 상황에서는 객체를 만들 필요까지는 없다** webpack을 사용하는 환경에서는 js 파일에 전역객체처럼 만들어도 감싸지기 때문에 그냥 js 파일 그 자체에다가 변수와 함수를 선언해서 사용하는 편이 이 프로젝트의 규모에 적합하다. 항상 그 규모에 맞는 프로그래밍을 하자. 닭잡는데 소잡는칼 ㄴㄴ
4. chatTime을 찍어주고 setTimeout을 통해 각 메소드가 하고난 결과물을 이벤트 루프에 넣기 위해서 chatTime을 전역으로 선언하고 그것을 사용했는데 그렇게 하면 chatTime이란 변수와 관련에서 에러가 났을때 너무 추적하기가 광범위하다. 따라서 chatTime을 최대한 가둬두는 편이 좋은데 지금 상황에서 모든 메소드가 chatTime을 사용하는 이유는 setTimeout을 사용하기 위함이었고 그것을 사용하는 이유는 결국 dom에 element를 add하기 위함이었기 때문에 굳이 그렇게 하지 않고 가장 바깥쪽, 상위 함수에다가 setTimeout을 걸고 chatTime을 넘겨줘서 필요한 부분에만 사용되도록 하여 전역 변수로인한 오류가 생기지 않게 하였다.